{"ast":null,"code":"'use strict';\n\nvar _toConsumableArray = require(\"C:/Users/Rulian/Documents/AEM/Projetos/reactcompass/ui.frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _createForOfIteratorHelper = require(\"C:/Users/Rulian/Documents/AEM/Projetos/reactcompass/ui.frontend/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _classCallCheck = require(\"C:/Users/Rulian/Documents/AEM/Projetos/reactcompass/ui.frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"C:/Users/Rulian/Documents/AEM/Projetos/reactcompass/ui.frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _require = require('./symbols'),\n    isClean = _require.isClean,\n    my = _require.my;\n\nvar CssSyntaxError = require('./css-syntax-error');\n\nvar Stringifier = require('./stringifier');\n\nvar stringify = require('./stringify');\n\nfunction cloneNode(obj, parent) {\n  var cloned = new obj.constructor();\n\n  for (var i in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) {\n      /* c8 ignore next 2 */\n      continue;\n    }\n\n    if (i === 'proxyCache') continue;\n    var value = obj[i];\n    var type = typeof value;\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) cloned[i] = parent;\n    } else if (i === 'source') {\n      cloned[i] = value;\n    } else if (Array.isArray(value)) {\n      cloned[i] = value.map(function (j) {\n        return cloneNode(j, cloned);\n      });\n    } else {\n      if (type === 'object' && value !== null) value = cloneNode(value);\n      cloned[i] = value;\n    }\n  }\n\n  return cloned;\n}\n\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    var defaults = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Node);\n\n    this.raws = {};\n    this[isClean] = false;\n    this[my] = true;\n\n    for (var name in defaults) {\n      if (name === 'nodes') {\n        this.nodes = [];\n\n        var _iterator = _createForOfIteratorHelper(defaults[name]),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var node = _step.value;\n\n            if (typeof node.clone === 'function') {\n              this.append(node.clone());\n            } else {\n              this.append(node);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        this[name] = defaults[name];\n      }\n    }\n  }\n\n  _createClass(Node, [{\n    key: \"error\",\n    value: function error(message) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.source) {\n        var _this$rangeBy = this.rangeBy(opts),\n            start = _this$rangeBy.start,\n            end = _this$rangeBy.end;\n\n        return this.source.input.error(message, {\n          line: start.line,\n          column: start.column\n        }, {\n          line: end.line,\n          column: end.column\n        }, opts);\n      }\n\n      return new CssSyntaxError(message);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(result, text, opts) {\n      var data = {\n        node: this\n      };\n\n      for (var i in opts) {\n        data[i] = opts[i];\n      }\n\n      return result.warn(text, data);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n\n      this.parent = undefined;\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var stringifier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stringify;\n      if (stringifier.stringify) stringifier = stringifier.stringify;\n      var result = '';\n      stringifier(this, function (i) {\n        result += i;\n      });\n      return result;\n    }\n  }, {\n    key: \"assign\",\n    value: function assign() {\n      var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      for (var name in overrides) {\n        this[name] = overrides[name];\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var cloned = cloneNode(this);\n\n      for (var name in overrides) {\n        cloned[name] = overrides[name];\n      }\n\n      return cloned;\n    }\n  }, {\n    key: \"cloneBefore\",\n    value: function cloneBefore() {\n      var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n  }, {\n    key: \"cloneAfter\",\n    value: function cloneAfter() {\n      var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n  }, {\n    key: \"replaceWith\",\n    value: function replaceWith() {\n      if (this.parent) {\n        var bookmark = this;\n        var foundSelf = false;\n\n        for (var _len = arguments.length, nodes = new Array(_len), _key = 0; _key < _len; _key++) {\n          nodes[_key] = arguments[_key];\n        }\n\n        for (var _i = 0, _nodes = nodes; _i < _nodes.length; _i++) {\n          var node = _nodes[_i];\n\n          if (node === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node);\n            bookmark = node;\n          } else {\n            this.parent.insertBefore(bookmark, node);\n          }\n        }\n\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (!this.parent) return undefined;\n      var index = this.parent.index(this);\n      return this.parent.nodes[index + 1];\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      if (!this.parent) return undefined;\n      var index = this.parent.index(this);\n      return this.parent.nodes[index - 1];\n    }\n  }, {\n    key: \"before\",\n    value: function before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n  }, {\n    key: \"after\",\n    value: function after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n  }, {\n    key: \"root\",\n    value: function root() {\n      var result = this;\n\n      while (result.parent && result.parent.type !== 'document') {\n        result = result.parent;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"raw\",\n    value: function raw(prop, defaultType) {\n      var str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n  }, {\n    key: \"cleanRaws\",\n    value: function cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON(_, inputs) {\n      var fixed = {};\n      var emitInputs = inputs == null;\n      inputs = inputs || new Map();\n      var inputsNextIndex = 0;\n\n      for (var name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          /* c8 ignore next 2 */\n          continue;\n        }\n\n        if (name === 'parent' || name === 'proxyCache') continue;\n        var value = this[name];\n\n        if (Array.isArray(value)) {\n          fixed[name] = value.map(function (i) {\n            if (typeof i === 'object' && i.toJSON) {\n              return i.toJSON(null, inputs);\n            } else {\n              return i;\n            }\n          });\n        } else if (typeof value === 'object' && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === 'source') {\n          var inputId = inputs.get(value.input);\n\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n\n          fixed[name] = {\n            inputId: inputId,\n            start: value.start,\n            end: value.end\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n\n      if (emitInputs) {\n        fixed.inputs = _toConsumableArray(inputs.keys()).map(function (input) {\n          return input.toJSON();\n        });\n      }\n\n      return fixed;\n    }\n  }, {\n    key: \"positionInside\",\n    value: function positionInside(index) {\n      var string = this.toString();\n      var column = this.source.start.column;\n      var line = this.source.start.line;\n\n      for (var i = 0; i < index; i++) {\n        if (string[i] === '\\n') {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n\n      return {\n        line: line,\n        column: column\n      };\n    }\n  }, {\n    key: \"positionBy\",\n    value: function positionBy(opts) {\n      var pos = this.source.start;\n\n      if (opts.index) {\n        pos = this.positionInside(opts.index);\n      } else if (opts.word) {\n        var index = this.toString().indexOf(opts.word);\n        if (index !== -1) pos = this.positionInside(index);\n      }\n\n      return pos;\n    }\n  }, {\n    key: \"rangeBy\",\n    value: function rangeBy(opts) {\n      var start = {\n        line: this.source.start.line,\n        column: this.source.start.column\n      };\n      var end = this.source.end ? {\n        line: this.source.end.line,\n        column: this.source.end.column + 1\n      } : {\n        line: start.line,\n        column: start.column + 1\n      };\n\n      if (opts.word) {\n        var index = this.toString().indexOf(opts.word);\n\n        if (index !== -1) {\n          start = this.positionInside(index);\n          end = this.positionInside(index + opts.word.length);\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            line: opts.start.line,\n            column: opts.start.column\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n\n        if (opts.end) {\n          end = {\n            line: opts.end.line,\n            column: opts.end.column\n          };\n        } else if (opts.endIndex) {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = {\n          line: start.line,\n          column: start.column + 1\n        };\n      }\n\n      return {\n        start: start,\n        end: end\n      };\n    }\n  }, {\n    key: \"getProxyProcessor\",\n    value: function getProxyProcessor() {\n      return {\n        set: function set(node, prop, value) {\n          if (node[prop] === value) return true;\n          node[prop] = value;\n\n          if (prop === 'prop' || prop === 'value' || prop === 'name' || prop === 'params' || prop === 'important' ||\n          /* c8 ignore next */\n          prop === 'text') {\n            node.markDirty();\n          }\n\n          return true;\n        },\n        get: function get(node, prop) {\n          if (prop === 'proxyOf') {\n            return node;\n          } else if (prop === 'root') {\n            return function () {\n              return node.root().toProxy();\n            };\n          } else {\n            return node[prop];\n          }\n        }\n      };\n    }\n  }, {\n    key: \"toProxy\",\n    value: function toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n\n      return this.proxyCache;\n    }\n  }, {\n    key: \"addToError\",\n    value: function addToError(error) {\n      error.postcssNode = this;\n\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        var s = this.source;\n        error.stack = error.stack.replace(/\\n\\s{4}at /, \"$&\".concat(s.input.from, \":\").concat(s.start.line, \":\").concat(s.start.column, \"$&\"));\n      }\n\n      return error;\n    }\n  }, {\n    key: \"markDirty\",\n    value: function markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        var next = this;\n\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n  }, {\n    key: \"proxyOf\",\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return Node;\n}();\n\nmodule.exports = Node;\nNode.default = Node;","map":{"version":3,"sources":["C:/Users/Rulian/Documents/AEM/Projetos/reactcompass/ui.frontend/node_modules/postcss/lib/node.js"],"names":["require","isClean","my","CssSyntaxError","Stringifier","stringify","cloneNode","obj","parent","cloned","constructor","i","Object","prototype","hasOwnProperty","call","value","type","Array","isArray","map","j","Node","defaults","raws","name","nodes","node","clone","append","message","opts","source","rangeBy","start","end","input","error","line","column","result","text","data","warn","removeChild","undefined","stringifier","overrides","insertBefore","insertAfter","bookmark","foundSelf","remove","index","add","prop","defaultType","str","raw","keepBetween","before","after","between","_","inputs","fixed","emitInputs","Map","inputsNextIndex","toJSON","inputId","get","set","keys","string","toString","pos","positionInside","word","indexOf","length","endIndex","markDirty","root","toProxy","proxyCache","Proxy","getProxyProcessor","postcssNode","stack","test","s","replace","from","next","module","exports","default"],"mappings":"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","sourcesContent":["'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet CssSyntaxError = require('./css-syntax-error')\nlet Stringifier = require('./stringifier')\nlet stringify = require('./stringify')\n\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor()\n\n  for (let i in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) {\n      /* c8 ignore next 2 */\n      continue\n    }\n    if (i === 'proxyCache') continue\n    let value = obj[i]\n    let type = typeof value\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) cloned[i] = parent\n    } else if (i === 'source') {\n      cloned[i] = value\n    } else if (Array.isArray(value)) {\n      cloned[i] = value.map(j => cloneNode(j, cloned))\n    } else {\n      if (type === 'object' && value !== null) value = cloneNode(value)\n      cloned[i] = value\n    }\n  }\n\n  return cloned\n}\n\nclass Node {\n  constructor(defaults = {}) {\n    this.raws = {}\n    this[isClean] = false\n    this[my] = true\n\n    for (let name in defaults) {\n      if (name === 'nodes') {\n        this.nodes = []\n        for (let node of defaults[name]) {\n          if (typeof node.clone === 'function') {\n            this.append(node.clone())\n          } else {\n            this.append(node)\n          }\n        }\n      } else {\n        this[name] = defaults[name]\n      }\n    }\n  }\n\n  error(message, opts = {}) {\n    if (this.source) {\n      let { start, end } = this.rangeBy(opts)\n      return this.source.input.error(\n        message,\n        { line: start.line, column: start.column },\n        { line: end.line, column: end.column },\n        opts\n      )\n    }\n    return new CssSyntaxError(message)\n  }\n\n  warn(result, text, opts) {\n    let data = { node: this }\n    for (let i in opts) data[i] = opts[i]\n    return result.warn(text, data)\n  }\n\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this)\n    }\n    this.parent = undefined\n    return this\n  }\n\n  toString(stringifier = stringify) {\n    if (stringifier.stringify) stringifier = stringifier.stringify\n    let result = ''\n    stringifier(this, i => {\n      result += i\n    })\n    return result\n  }\n\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name]\n    }\n    return this\n  }\n\n  clone(overrides = {}) {\n    let cloned = cloneNode(this)\n    for (let name in overrides) {\n      cloned[name] = overrides[name]\n    }\n    return cloned\n  }\n\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertBefore(this, cloned)\n    return cloned\n  }\n\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertAfter(this, cloned)\n    return cloned\n  }\n\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this\n      let foundSelf = false\n      for (let node of nodes) {\n        if (node === this) {\n          foundSelf = true\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node)\n          bookmark = node\n        } else {\n          this.parent.insertBefore(bookmark, node)\n        }\n      }\n\n      if (!foundSelf) {\n        this.remove()\n      }\n    }\n\n    return this\n  }\n\n  next() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index + 1]\n  }\n\n  prev() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index - 1]\n  }\n\n  before(add) {\n    this.parent.insertBefore(this, add)\n    return this\n  }\n\n  after(add) {\n    this.parent.insertAfter(this, add)\n    return this\n  }\n\n  root() {\n    let result = this\n    while (result.parent && result.parent.type !== 'document') {\n      result = result.parent\n    }\n    return result\n  }\n\n  raw(prop, defaultType) {\n    let str = new Stringifier()\n    return str.raw(this, prop, defaultType)\n  }\n\n  cleanRaws(keepBetween) {\n    delete this.raws.before\n    delete this.raws.after\n    if (!keepBetween) delete this.raws.between\n  }\n\n  toJSON(_, inputs) {\n    let fixed = {}\n    let emitInputs = inputs == null\n    inputs = inputs || new Map()\n    let inputsNextIndex = 0\n\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        /* c8 ignore next 2 */\n        continue\n      }\n      if (name === 'parent' || name === 'proxyCache') continue\n      let value = this[name]\n\n      if (Array.isArray(value)) {\n        fixed[name] = value.map(i => {\n          if (typeof i === 'object' && i.toJSON) {\n            return i.toJSON(null, inputs)\n          } else {\n            return i\n          }\n        })\n      } else if (typeof value === 'object' && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs)\n      } else if (name === 'source') {\n        let inputId = inputs.get(value.input)\n        if (inputId == null) {\n          inputId = inputsNextIndex\n          inputs.set(value.input, inputsNextIndex)\n          inputsNextIndex++\n        }\n        fixed[name] = {\n          inputId,\n          start: value.start,\n          end: value.end\n        }\n      } else {\n        fixed[name] = value\n      }\n    }\n\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map(input => input.toJSON())\n    }\n\n    return fixed\n  }\n\n  positionInside(index) {\n    let string = this.toString()\n    let column = this.source.start.column\n    let line = this.source.start.line\n\n    for (let i = 0; i < index; i++) {\n      if (string[i] === '\\n') {\n        column = 1\n        line += 1\n      } else {\n        column += 1\n      }\n    }\n\n    return { line, column }\n  }\n\n  positionBy(opts) {\n    let pos = this.source.start\n    if (opts.index) {\n      pos = this.positionInside(opts.index)\n    } else if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) pos = this.positionInside(index)\n    }\n    return pos\n  }\n\n  rangeBy(opts) {\n    let start = {\n      line: this.source.start.line,\n      column: this.source.start.column\n    }\n    let end = this.source.end\n      ? {\n          line: this.source.end.line,\n          column: this.source.end.column + 1\n        }\n      : {\n          line: start.line,\n          column: start.column + 1\n        }\n\n    if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) {\n        start = this.positionInside(index)\n        end = this.positionInside(index + opts.word.length)\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          line: opts.start.line,\n          column: opts.start.column\n        }\n      } else if (opts.index) {\n        start = this.positionInside(opts.index)\n      }\n\n      if (opts.end) {\n        end = {\n          line: opts.end.line,\n          column: opts.end.column\n        }\n      } else if (opts.endIndex) {\n        end = this.positionInside(opts.endIndex)\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1)\n      }\n    }\n\n    if (\n      end.line < start.line ||\n      (end.line === start.line && end.column <= start.column)\n    ) {\n      end = { line: start.line, column: start.column + 1 }\n    }\n\n    return { start, end }\n  }\n\n  getProxyProcessor() {\n    return {\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (\n          prop === 'prop' ||\n          prop === 'value' ||\n          prop === 'name' ||\n          prop === 'params' ||\n          prop === 'important' ||\n          /* c8 ignore next */\n          prop === 'text'\n        ) {\n          node.markDirty()\n        }\n        return true\n      },\n\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else {\n          return node[prop]\n        }\n      }\n    }\n  }\n\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor())\n    }\n    return this.proxyCache\n  }\n\n  addToError(error) {\n    error.postcssNode = this\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s = this.source\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s.input.from}:${s.start.line}:${s.start.column}$&`\n      )\n    }\n    return error\n  }\n\n  markDirty() {\n    if (this[isClean]) {\n      this[isClean] = false\n      let next = this\n      while ((next = next.parent)) {\n        next[isClean] = false\n      }\n    }\n  }\n\n  get proxyOf() {\n    return this\n  }\n}\n\nmodule.exports = Node\nNode.default = Node\n"]},"metadata":{},"sourceType":"script"}